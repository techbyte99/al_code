#include<iostream>
#include<stdio.h>
#include<conio.h>
#include<limits.h>
using namespace std;
int counter;
void merge(int A[],int p,int q,int r)
{
	int i,j,k,*c;
	c=new int[sizeof(A)];
	i=p;
	k=p;
	j=q+1;
	while(i<=q&&j<=r)
	{
		if(A[i]<A[j])
		{
			c[k]=A[i];
			k++;i++;
		}
		else
		{
			c[k]=A[j];
			k++;j++;
		}
		counter++;
	}
	while(i<=q)
	{
		c[k]=A[i];
		k++;
		i++;
	}
	while(j<=r)
	{
		c[k]=A[j];
		k++;
		j++;
	}
	for(i=p;i<k;++i)
	{
		A[i]=c[i];
	}
}
void mergesort(int A[],int p,int r)
{
	int q;
	if(p<r)
	{
		q=(p+r)/2;
		mergesort(A,p,q);
		mergesort(A,q+1,r);
		merge(A,p,q,r);
	}
}
int main()
{
	int *A;
	int n;
	cout<<"\nEnter the size of array: ";
	cin>>n;
	A=new int[n];
	cout<<"\nEnter the elements of array:\n";
	for(int i=0;i<n;++i)
		cin>>A[i];
	mergesort(A,0,n-1);
	cout<<"\nThe sorted array is:";
	for( int i=0;i<n;++i)
		cout<<A[i]<<"\t";
	cout<<"\nThe number of comparisons are: "<<counter;

}
